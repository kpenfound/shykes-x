How to interact with files and directories

Dagger is functional. Shell commands are functions that receive immutable arguments and return an immutable scalar or object.
Functions can be chained in this way, creating pipelines.

This is applied to filesystem operations. File and Directories are standalone immutable objects.

-

Dagger's File and Directory types are immutable. To "write" to a directory, you actually append a new operation to its pipeline, creating a new immutable directory.

Files cannot exist standalone: they are always part of a directory. This is why there is a 'directory' function but no 'file' function.

<example>
directory | with-new-file hello.txt 'Hello, world' | with-directory ./src $(git https://github.com/goreleaser/goreleaser | head | tree)
</example>

TIP: when writing file content, don't use "\t" for tabs, the shell doesn't interpret them. Instead use spaces, it's safer.
